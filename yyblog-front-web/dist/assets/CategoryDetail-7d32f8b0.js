import{i as D,k as U,r as g,a as l,o,c as s,b as a,d as c,F as _,f as y,h as R,j as S,e as h,g as f}from"./index-1ca88f23.js";const q={class:"cd_main"},V={class:"left"},E={class:"blog_list"},T={class:"pagination"},A={class:"right"},F={class:"part_title"},P=a("span",{class:"fonts"},"Who's Blog?",-1),j={class:"c_list"},G=a("div",{class:"space"},null,-1),W={class:"part_title"},Z=a("span",{class:"fonts"},"分类专栏",-1),H={class:"c_list"},X={__name:"CategoryDetail",setup(J){const{proxy:i}=D(),k=U(),r=g([]),v=g([]),p=g([]),N=5,u={loadBlogList:"/view/loadBlogList",loadCategory:"/view/loadCategory",loadUser:"/view/loadTeamUser",getCategory:"/view/getCategory"},m=k.params.categoryId,n=g({});(async()=>{let t=await i.Request({url:u.getCategory,params:{categoryId:m}});t&&(n.value=t.data)})();const C=async t=>{let d=await i.Request({url:u.loadBlogList,params:{pageNo:t,pageSize:10,categoryId:m}});d&&(r.value=d.data)};C(1);const L=t=>{C(t)};return(async()=>{let t=await i.Request({url:u.loadCategory,params:{pageSize:N}});t&&(v.value=t.data)})(),(async()=>{let t=await i.Request({url:u.loadUser,params:{pageSize:1}});t&&(p.value=t.data)})(),(t,d)=>{const b=l("CategoryList"),B=l("BlogItem"),w=l("el-pagination"),I=l("router-link"),x=l("UserItem"),z=l("CategoryItem");return o(),s("div",q,[a("div",V,[c(b,{cover:n.value.cover,name:n.value.categoryName,desc:n.value.categoryDesc,count:n.value.blogCount,categoryId:n.value.categoryId,type:0},null,8,["cover","name","desc","count","categoryId"]),a("div",E,[(o(!0),s(_,null,y(r.value.list,e=>(o(),s("div",{key:e},[c(B,{cover:e.cover,title:e.title,summary:e.summary,time:e.createTime,nickName:e.nickName,categoryName:e.categoryName,blogId:e.blogId,categoryId:e.categoryId},null,8,["cover","title","summary","time","nickName","categoryName","blogId","categoryId"])]))),128)),a("div",T,[r.value.totalCount?(o(),R(w,{key:0,background:"",total:r.value.totalCount,"page-sizes":[15,30,50,100],"page-size":r.value.pageSize,"current-page":r.value.pageNo,layout:"total, prev, pager, next",onCurrentChange:L,style:{"text-align":"right"},"hide-on-single-page":""},null,8,["total","page-size","current-page"])):S("",!0)])])]),a("div",A,[a("div",F,[P,c(I,{to:"/user",class:"a-link"},{default:h(()=>[f("About>>")]),_:1})]),a("div",j,[(o(!0),s(_,null,y(p.value,e=>(o(),s("div",{key:e},[c(x,{cover:e.avatar,name:e.nickName,count:e.blogCount,profession:e.profession},null,8,["cover","name","count","profession"])]))),128))]),G,a("div",W,[Z,c(I,{to:"/category",class:"a-link"},{default:h(()=>[f("更多>>")]),_:1})]),a("div",H,[(o(!0),s(_,null,y(v.value,e=>(o(),s("div",{key:e},[c(z,{cover:e.cover,name:e.categoryName,count:e.blogCount,categoryId:e.categoryId,type:0},null,8,["cover","name","count","categoryId"])]))),128))])])])}}};export{X as default};
